{% extends 'sidebar.html' %}
{% block title %}{{ chiller_name or 'Chiller Dashboard' }} - JTI BAS Dashboard{% endblock %}

{% block header_title %}{{ chiller_name or 'Chiller Dashboard' }}{% endblock %}

{% block content %}
<div class="chiller-content-wrapper">
    <div class="dashboard-grid">
        
        <div class="faults-section">
            <div class="fault-card">
                <div class="icon-circle"><img src="{{ url_for('static', filename='icons/shield-icon.png') }}" alt="Safety Fault"></div>
                <div class="fault-details"><p class="fault-type">Safety Fault</p><p class="fault-value">-</p></div>
            </div>
            <div class="fault-card">
                <div class="icon-circle"><img src="{{ url_for('static', filename='icons/cycling-icon.png') }}" alt="Cycling Fault"></div>
                <div class="fault-details"><p class="fault-type">Cycling Fault</p><p class="fault-value">-</p></div>
            </div>
            <div class="fault-card">
                <div class="icon-circle"><img src="{{ url_for('static', filename='icons/bell-icon.png') }}" alt="Warning Fault"></div>
                <div class="fault-details"><p class="fault-type">Warning Fault</p><p class="fault-value">-</p></div>
            </div>
        </div>

        <div class="chiller-details-section">
            <div class="chiller-image">
                <img src="{{ url_for('static', filename='images/chiller-active.gif') }}" alt="Chiller Unit">
            </div>
            <div class="chiller-info-grid">
                <div class="info-card"><p class="label">Status</p><p class="value running">Running</p></div>
                <div class="info-card"><p class="label">FLA</p><p class="value">90 %</p></div>
                <div class="info-card"><p class="label">Operating Hour</p><p class="value">4538</p></div>
                <div class="info-card"><p class="label">Input Power</p><p class="value">485.00</p></div>
                <div class="info-card"><p class="label">Input KWh</p><p class="value">1356120.00</p></div>
                <div class="info-card"><p class="label">VSD Out voltage</p><p class="value">1356120.00</p></div>
                <div class="info-card"><p class="label">Motor PH A Current</p><p class="value">758</p></div>
                <div class="info-card"><p class="label">Motor PH B Current</p><p class="value">765</p></div>
                <div class="info-card"><p class="label">Motor PH C Current</p><p class="value">757</p></div>
            </div>
        </div>

        <div class="sections-below-chiller">
            <div class="section-card">
                <p>Section Evaporator</p>
                <div class="thermometer-group">
                    <div class="single-thermometer">
                        <p class="thermometer-label">LWT</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 5.50, "to": 8.80, "color": "rgba(0, 255, 0)"}]' data-value="7.11" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">RWT</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 11.11, "to": 14.44, "color": "rgba(0, 255, 0, .5)"}]' data-value="7.11" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">SATUR</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-min-value="-5" data-max-value="15" data-major-ticks="-5,0,5,10,15" data-highlights='[{"from": 3.33, "to": 6.67, "color": "rgba(0, 255, 0)"}]' data-value="0.78" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    
                    <div class="single-thermometer">
                        <p class="thermometer-label">Pressure</p>
                        <canvas data-type="radial-gauge" data-width="180" data-height="180" data-units="PSI" data-value="264.07" data-min-value="235" data-max-value="520" data-major-ticks="235,285,335,385,435,485,520" data-highlights='[ { "from": 220.64, "to": 275.80, "color": "rgba(0, 255, 0, .5)" } ]' data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-needle-start="rgba(240, 128, 128, 1)" data-color-needle-end="rgba(255, 160, 122, .9)" data-value-box="true" data-animation-rule="bounce" data-animation-duration="500" data-font-value="Led" data-animated-value="true"></canvas>
                    </div>
                </div>
                <table class="parameter-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Safe Range</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>LWT</td>
                            <td>5.50 - 8.80 °C</td>
                            <td>7.11 °C</td>
                        </tr>
                        <tr>
                            <td>RWT</td>
                            <td>11.11 - 14.44 °C</td>
                            <td>7.11 °C</td>
                        </tr>
                        <tr>
                            <td>SATUR</td>
                            <td>3.33 - 6.67 °C</td>
                            <td>0.78 °C</td>
                        </tr>
                        
                        <tr>
                            <td>Pressure</td>
                            <td>220.64 - 275.80 PSI</td>
                            <td>264.07 PSI</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="section-card">
                <p>Section Condenser</p>
                <div class="thermometer-group">
                    <div class="single-thermometer">
                        <p class="thermometer-label">LWT</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 25, "color": "rgba(0, 128, 0, .5)"}]' data-value="22.3" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">RWT</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 70, "color": "rgba(0, 128, 0, .5)"}]' data-value="25.0" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">SATUR</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 25, "color": "rgba(0, 128, 0, .5)"}]' data-value="18.5" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">Refri</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 25, "color": "rgba(0, 128, 0, .5)"}]' data-value="30.1" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">Cond PSI</p>
                        <canvas data-type="radial-gauge" data-width="180" data-height="180" data-units="PSI" data-max-value="220" data-highlights='[ { "from": 0, "to": 50, "color": "rgba(0,255,0,.15)" } ]' data-value="0" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-needle-start="rgba(240, 128, 128, 1)" data-color-needle-end="rgba(255, 160, 122, .9)" data-value-box="true" data-animation-rule="bounce" data-animation-duration="500" data-font-value="Led" data-animated-value="true"></canvas>
                    </div>
                </div>
                 <table class="parameter-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Safe Range</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>LWT</td>
                            <td>20 - 25 °C</td>
                            <td>22.3 °C</td>
                        </tr>
                        <tr>
                            <td>RWT</td>
                            <td>20 - 70 °C</td>
                            <td>25.0 °C</td>
                        </tr>
                        <tr>
                            <td>SATUR</td>
                            <td>20 - 25 °C</td>
                            <td class="value-danger">18.5 °C</td>
                        </tr>
                        <tr>
                            <td>Refri</td>
                            <td>20 - 25 °C</td>
                            <td class="value-danger">30.1 °C</td>
                        </tr>
                        <tr>
                            <td>Cond PSI</td>
                            <td>0 - 50 PSI</td>
                            <td>0 PSI</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="section-card">
                <p>Section Oil and Discharge</p>
                <div class="thermometer-group">
                    <div class="single-thermometer">
                        <p class="thermometer-label">Discharge Temp</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 25, "color": "rgba(0, 128, 0, .5)"}]' data-value="22.3" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">Oil Sump Temp</p>
                        <canvas data-type="linear-gauge" data-width="120" data-height="220" data-highlights='[{"from": 20, "to": 70, "color": "rgba(0, 128, 0, .5)"}]' data-value="25.0" data-units="°C" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-value-box-shadow="false"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">Oil Pump Pressure</p>
                        <canvas data-type="radial-gauge" data-width="180" data-height="180" data-units="PSI" data-max-value="220" data-highlights='[ { "from": 0, "to": 50, "color": "rgba(0,255,0,.15)" } ]' data-value="0" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-needle-start="rgba(240, 128, 128, 1)" data-color-needle-end="rgba(255, 160, 122, .9)" data-value-box="true" data-animation-rule="bounce" data-animation-duration="500" data-font-value="Led" data-animated-value="true"></canvas>
                    </div>
                    <div class="single-thermometer">
                        <p class="thermometer-label">Oil Pressure Diff</p>
                        <canvas data-type="radial-gauge" data-width="180" data-height="180" data-units="PSI" data-max-value="220" data-highlights='[ { "from": 0, "to": 50, "color": "rgba(0,255,0,.15)" } ]' data-value="0" data-color-plate="#222" data-color-major-ticks="#f5f5f5" data-color-minor-ticks="#ddd" data-color-title="#fff" data-color-units="#ccc" data-color-numbers="#eee" data-color-needle-start="rgba(240, 128, 128, 1)" data-color-needle-end="rgba(255, 160, 122, .9)" data-value-box="true" data-animation-rule="bounce" data-animation-duration="500" data-font-value="Led" data-animated-value="true"></canvas>
                    </div>
                </div>
                 <table class="parameter-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Safe Range</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Discharge Temp</td>
                            <td>20 - 25 °C</td>
                            <td>22.3 °C</td>
                        </tr>
                        <tr>
                            <td>Oil Sump Temp</td>
                            <td>20 - 70 °C</td>
                            <td>25.0 °C</td>
                        </tr>
                        <tr>
                            <td>Oil Pump Pressuren</td>
                            <td>0 - 50 PSI</td>
                            <td>0 PSI</td>
                        </tr>
                        <tr>
                            <td>Oil Pressure Diff</td>
                            <td>0 - 50 PSI</td>
                            <td>0 PSI</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="chart-section">
            <p>Chart</p>
        </div>
    </div>
</div>
{% endblock %}
